<!DOCTYPE html>
<html>
<head>
  <title>Sorting Algorithm Visualizer</title>
  <style>
    canvas {
      border: 1px solid black;
    }
  </style>
</head>
<body>
  <canvas id="myCanvas" width="600" height="400"></canvas>
  <button onclick="startVisualization()">Start Visualization</button>

  <script>
    const canvas = document.getElementById('myCanvas');
    const ctx = canvas.getContext('2d');
    const delay = 100;


    function drawBars(arr) {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      const barWidth = canvas.width / arr.length;

      arr.forEach((value, index) => {
        ctx.fillStyle = 'blue';
        ctx.fillRect(index * barWidth, canvas.height - value, barWidth - 1, value);
      });
    }

 
    async function bubbleSort(arr) {
      const len = arr.length;

      for (let i = 0; i < len; i++) {
        for (let j = 0; j < len - 1 - i; j++) {
          if (arr[j] > arr[j + 1]) {
            [arr[j], arr[j + 1]] = [arr[j + 1], arr[j]];
            drawBars(arr);
            await new Promise(resolve => setTimeout(resolve, delay));
          }
        }
      }
    }

    async function selectionSort(arr){
        const len = arr.length;

        for(let i=0;i<len-1;i++){
            let min_idx = i;
            for(let j=i+1;j<len;j++)
            {
                if(arr[j]<arr[min_idx]){
                    min_idx=j;
                }
            }
            [arr[min_idx],arr[i]]=[arr[i],arr[min_idx]];
            drawBars(arr);
            await new Promise(resolve => setTimeout(resolve, delay));
        }
    }
    
    async function insertionSort(arr){
        const len = arr.length;
        for(let i=1;i<len;i++)
        {
            let key = arr[i];
            let j = i-1;
            while(j>=0 && arr[j] > key){
                arr[j+1]=arr[j];
                j--;
            }
            arr[j+1]=key;
            drawBars(arr);
            await new Promise(resolve => setTimeout(resolve, delay));
        }
    }

    function startVisualization() {
      const arr = []; 
      for (let i = 0; i < 50; i++) {
        arr.push(Math.floor(Math.random() * 400) + 1); 
      }
      insertionSort(arr);
    }
  </script>
</body>
</html>
